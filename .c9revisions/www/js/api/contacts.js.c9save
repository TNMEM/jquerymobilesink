{"ts":1375013808675,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"(function() {\n\n    $('#contacts').bind('pageshow', function() {\n        // Insert the contacts into the list\n        //\n        var onSuccess = function(contacts) {\n            // For demo purposes, only load 10\n            contacts = contacts.slice(0, 10);\n            \n            // Helper function to find contacts last name\n            var lastName = function(name) {\n                name = name.split(' ');\n                return name[name.length - 1];\n            };\n\n            // Sort contacts by last name\n            contacts.sort(function(a, b) {\n                a = lastName(a.displayName.toLowerCase());\n                b = lastName(b.displayName.toLowerCase());\n\n                if (a > b)\n                    return 1;\n                else if (a < b)\n                    return -1;\n                else\n                    return 0;\n            });\n\n            var currentGroup = null;\n            var content      = '';\n            var $contactList = $('#contacts ul[data-role=\"listview\"]');\n\n            contacts.forEach(function(contact) {\n                // Create a last name group if needed\n                var group = lastName(contact.displayName);\n                if (group.length <= 0) return;\n                group = group[0].toUpperCase();\n\n                if (group !== currentGroup) {\n                    currentGroup = group;\n                    content += '<li data-role=\"list-divider\">' +\n                               currentGroup +\n                               '</li>';\n                }\n\n                content += '<li>' + contact.displayName + '</li>';\n            });\n\n            $contactList.html(content).listview('refresh');\n        };\n\n        var onFail = function() {\n            console.log('Failed to get contacts');\n        };\n\n        var options    = new ContactFindOptions();\n        options.filter = '';\n\n        var filter  = [ 'displayName' ];\n\n        navigator.service.contacts.find(filter, onSuccess, onFail, options);\n    });\n\n})();\n"]],"start1":0,"start2":0,"length1":0,"length2":1996}]],"length":1996}
{"contributors":[],"silentsave":true,"ts":1375026387398,"patch":[[{"diffs":[[0,"  = new "],[1,"dOpt"],[0,"ContactF"]],"start1":1802,"start2":1802,"length1":16,"length2":20},{"diffs":[[0,"ntactFin"],[-1,"dOpt"],[0,"ions();\n"]],"start1":1816,"start2":1816,"length1":20,"length2":16}]],"length":1996,"saved":false}
{"ts":1375026389165,"patch":[[{"diffs":[[0,"new "],[-1,"dOpt"],[0,"Cont"]],"start1":1806,"start2":1806,"length1":12,"length2":8},{"diffs":[[0,"ntactFin"],[1,"dOpt"],[0,"ions();\n"]],"start1":1812,"start2":1812,"length1":16,"length2":20}]],"length":1996,"saved":false}
{"contributors":[],"silentsave":false,"ts":1377045593163,"patch":[[{"diffs":[[0,"        "],[1,"//"],[0,"console."]],"start1":1722,"start2":1722,"length1":16,"length2":18}]],"length":1998,"saved":false}
